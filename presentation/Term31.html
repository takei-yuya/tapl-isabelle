<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Term31</title>
</head>


<body>
<div class="head">
<h1>Theory Term31</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Term31</span><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../../HOL/HOL/Main.html"><span>Main</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>chapter</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>3.5 Evaluation</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>definition</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.arity_full_exhaustive_t|fact"><span class="entity_def" id="Term31.t.full_exhaustive_t.simps|fact"><span class="entity_def" id="Term31.full_exhaustive_t_inst.full_exhaustive_t|fact"><span class="entity_def" id="Term31.arity_narrowing_t|fact"><span class="entity_def" id="Term31.t.narrowing_t.simps|fact"><span class="entity_def" id="Term31.narrowing_t_inst.narrowing_t|fact"><span class="entity_def" id="Term31.arity_random_t|fact"><span class="entity_def" id="Term31.random_t_def|fact"><span class="entity_def" id="Term31.random_t_inst.random_t|fact"><span class="entity_def" id="Term31.t.random_aux.simps|fact"><span class="entity_def" id="Term31.random_aux_t_def|fact"><span class="entity_def" id="Term31.t.size_gen|fact"><span class="entity_def" id="Term31.t.size|fact"><span class="entity_def" id="Term31.arity_size_t|fact"><span class="entity_def" id="Term31.t.size_t_overloaded_def|fact"><span class="entity_def" id="Term31.size_t_inst.size_t|fact"><span class="entity_def" id="Term31.t.size_t_def|fact"><span class="entity_def" id="Term31.t.simps|fact"><span class="entity_def" id="Term31.t.rec_transfer|fact"><span class="entity_def" id="Term31.t.rec|fact"><span class="entity_def" id="Term31.t.induct|fact"><span class="entity_def" id="Term31.t.case_transfer|fact"><span class="entity_def" id="Term31.t.splits|fact"><span class="entity_def" id="Term31.t.split_asm|fact"><span class="entity_def" id="Term31.t.split|fact"><span class="entity_def" id="Term31.t.nchotomy|fact"><span class="entity_def" id="Term31.t.inject|fact"><span class="entity_def" id="Term31.t.exhaust|fact"><span class="entity_def" id="Term31.t.distinct|fact"><span class="entity_def" id="Term31.t.case_distrib|fact"><span class="entity_def" id="Term31.t.case_cong_weak|fact"><span class="entity_def" id="Term31.t.case_cong|fact"><span class="entity_def" id="Term31.t.case|fact"><span class="entity_def" id="Term31.t.eq.simps|fact"><span class="entity_def" id="Term31.t.eq.refl|fact"><span class="entity_def" id="Term31.arity_equal_t|fact"><span class="entity_def" id="Term31.equal_t_def|fact"><span class="entity_def" id="Term31.equal_t_inst.equal_t|fact"><span class="entity_def" id="Term31.arity_partial_term_of_t|fact"><span class="entity_def" id="Term31.partial_term_of_t_triv|fact"><span class="entity_def" id="Term31.partial_term_of_t_inst.partial_term_of_t|fact"><span class="entity_def" id="Term31.arity_term_of_t|fact"><span class="entity_def" id="Term31.term_of_t_triv|fact"><span class="entity_def" id="Term31.term_of_t_inst.term_of_t|fact"><span class="entity_def" id="Term31.t.case_t_def|fact"><span class="entity_def" id="Term31.t.ctor_rec_t_def|fact"><span class="entity_def" id="Term31.t.dtor_t_def|fact"><span class="entity_def" id="Term31.t.ctor_fold_t_def|fact"><span class="entity_def" id="Term31.t.ctor_t_def|fact"><span class="entity_def" id="Term31.arity_typerep_t|fact"><span class="entity_def" id="Term31.typerep_t_def|fact"><span class="entity_def" id="Term31.typerep_t_inst.typerep_t|fact"><span class="entity_def" id="Term31.t.Abs_t_induct|fact"><span class="entity_def" id="Term31.t.Rep_t_induct|fact"><span class="entity_def" id="Term31.t.Abs_t_cases|fact"><span class="entity_def" id="Term31.t.Rep_t_cases|fact"><span class="entity_def" id="Term31.t.Abs_t_inject|fact"><span class="entity_def" id="Term31.t.Rep_t_inject|fact"><span class="entity_def" id="Term31.t.Abs_t_inverse|fact"><span class="entity_def" id="Term31.t.Rep_t_inverse|fact"><span class="entity_def" id="Term31.t.Rep_t|fact"><span class="entity_def" id="Term31.t.type_definition_t|fact"><span class="entity_def" id="Term31.arity_type_t|fact"><span class="entity_def" id="Term31.t.str_init_t_def|fact"><span class="entity_def" id="Term31.t.arity_typerep_t_IITN_t|fact"><span class="entity_def" id="Term31.t.typerep_t_IITN_t_def|fact"><span class="entity_def" id="Term31.t.typerep_t_IITN_t_inst.typerep_t_IITN_t|fact"><span class="entity_def" id="Term31.t.t_IITN_t.Abs_t_IITN_t_induct|fact"><span class="entity_def" id="Term31.t.t_IITN_t.Rep_t_IITN_t_induct|fact"><span class="entity_def" id="Term31.t.t_IITN_t.Abs_t_IITN_t_cases|fact"><span class="entity_def" id="Term31.t.t_IITN_t.Rep_t_IITN_t_cases|fact"><span class="entity_def" id="Term31.t.t_IITN_t.Abs_t_IITN_t_inject|fact"><span class="entity_def" id="Term31.t.t_IITN_t.Rep_t_IITN_t_inject|fact"><span class="entity_def" id="Term31.t.t_IITN_t.Abs_t_IITN_t_inverse|fact"><span class="entity_def" id="Term31.t.t_IITN_t.Rep_t_IITN_t_inverse|fact"><span class="entity_def" id="Term31.t.t_IITN_t.Rep_t_IITN_t|fact"><span class="entity_def" id="Term31.t.t_IITN_t.type_definition_t_IITN_t|fact"><span class="entity_def" id="Term31.arity_type_t_IITN_t|fact"><span class="entity_def" id="Term31.t.min_alg_t_def|fact"><span class="entity_def" id="Term31.t.mor_t_def|fact"><span class="entity_def" id="Term31.t.alg_t_def|fact"><span class="entity_def" id="Term31.pre_t.t.set_pre_t_def|fact"><span class="entity_def" id="Term31.pre_t.t.rel_pre_t_def|fact"><span class="entity_def" id="Term31.pre_t.t.map_pre_t_def|fact"><span class="entity_def" id="Term31.t.arity_typerep_t_pre_t|fact"><span class="entity_def" id="Term31.t.typerep_t_pre_t_def|fact"><span class="entity_def" id="Term31.t.typerep_t_pre_t_inst.typerep_t_pre_t|fact"><span class="entity_def" id="Term31.t.t_pre_t.Abs_t_pre_t_induct|fact"><span class="entity_def" id="Term31.t.t_pre_t.Rep_t_pre_t_induct|fact"><span class="entity_def" id="Term31.t.t_pre_t.Abs_t_pre_t_cases|fact"><span class="entity_def" id="Term31.t.t_pre_t.Rep_t_pre_t_cases|fact"><span class="entity_def" id="Term31.t.t_pre_t.Abs_t_pre_t_inject|fact"><span class="entity_def" id="Term31.t.t_pre_t.Rep_t_pre_t_inject|fact"><span class="entity_def" id="Term31.t.t_pre_t.Abs_t_pre_t_inverse|fact"><span class="entity_def" id="Term31.t.t_pre_t.Rep_t_pre_t_inverse|fact"><span class="entity_def" id="Term31.t.t_pre_t.Rep_t_pre_t|fact"><span class="entity_def" id="Term31.t.t_pre_t.type_definition_t_pre_t|fact"><span class="entity_def" id="Term31.arity_type_t_pre_t|fact"><span class="entity_def" id="Term31.arity_full_exhaustive_t|thm"><span class="entity_def" id="Term31.t.full_exhaustive_t.simps|thm"><span class="entity_def" id="Term31.full_exhaustive_t_inst.full_exhaustive_t|thm"><span class="entity_def" id="Term31.arity_narrowing_t|thm"><span class="entity_def" id="Term31.t.narrowing_t.simps|thm"><span class="entity_def" id="Term31.narrowing_t_inst.narrowing_t|thm"><span class="entity_def" id="Term31.arity_random_t|thm"><span class="entity_def" id="Term31.random_t_def|thm"><span class="entity_def" id="Term31.random_t_inst.random_t|thm"><span class="entity_def" id="Term31.t.random_aux.simps|thm"><span class="entity_def" id="Term31.random_aux_t_def|thm"><span class="entity_def" id="Term31.t.size_gen(3)|thm"><span class="entity_def" id="Term31.t.size_gen(2)|thm"><span class="entity_def" id="Term31.t.size_gen(1)|thm"><span class="entity_def" id="Term31.t.size(6)|thm"><span class="entity_def" id="Term31.t.size(5)|thm"><span class="entity_def" id="Term31.t.size(4)|thm"><span class="entity_def" id="Term31.t.size(3)|thm"><span class="entity_def" id="Term31.t.size(2)|thm"><span class="entity_def" id="Term31.t.size(1)|thm"><span class="entity_def" id="Term31.arity_size_t|thm"><span class="entity_def" id="Term31.t.size_t_overloaded_def|thm"><span class="entity_def" id="Term31.size_t_inst.size_t|thm"><span class="entity_def" id="Term31.t.size_t_def|thm"><span class="entity_def" id="Term31.t.simps(13)|thm"><span class="entity_def" id="Term31.t.simps(12)|thm"><span class="entity_def" id="Term31.t.simps(11)|thm"><span class="entity_def" id="Term31.t.simps(10)|thm"><span class="entity_def" id="Term31.t.simps(9)|thm"><span class="entity_def" id="Term31.t.simps(8)|thm"><span class="entity_def" id="Term31.t.simps(7)|thm"><span class="entity_def" id="Term31.t.simps(6)|thm"><span class="entity_def" id="Term31.t.simps(5)|thm"><span class="entity_def" id="Term31.t.simps(4)|thm"><span class="entity_def" id="Term31.t.simps(3)|thm"><span class="entity_def" id="Term31.t.simps(2)|thm"><span class="entity_def" id="Term31.t.simps(1)|thm"><span class="entity_def" id="Term31.t.rec_transfer|thm"><span class="entity_def" id="Term31.t.rec(3)|thm"><span class="entity_def" id="Term31.t.rec(2)|thm"><span class="entity_def" id="Term31.t.rec(1)|thm"><span class="entity_def" id="Term31.t.induct|thm"><span class="entity_def" id="Term31.t.case_transfer|thm"><span class="entity_def" id="Term31.t.splits(2)|thm"><span class="entity_def" id="Term31.t.splits(1)|thm"><span class="entity_def" id="Term31.t.split_asm|thm"><span class="entity_def" id="Term31.t.split|thm"><span class="entity_def" id="Term31.t.nchotomy|thm"><span class="entity_def" id="Term31.t.inject|thm"><span class="entity_def" id="Term31.t.exhaust|thm"><span class="entity_def" id="Term31.t.distinct(6)|thm"><span class="entity_def" id="Term31.t.distinct(5)|thm"><span class="entity_def" id="Term31.t.distinct(4)|thm"><span class="entity_def" id="Term31.t.distinct(3)|thm"><span class="entity_def" id="Term31.t.distinct(2)|thm"><span class="entity_def" id="Term31.t.distinct(1)|thm"><span class="entity_def" id="Term31.t.case_distrib|thm"><span class="entity_def" id="Term31.t.case_cong_weak|thm"><span class="entity_def" id="Term31.t.case_cong|thm"><span class="entity_def" id="Term31.t.case(3)|thm"><span class="entity_def" id="Term31.t.case(2)|thm"><span class="entity_def" id="Term31.t.case(1)|thm"><span class="entity_def" id="Term31.t.eq.simps(15)|thm"><span class="entity_def" id="Term31.t.eq.simps(14)|thm"><span class="entity_def" id="Term31.t.eq.simps(13)|thm"><span class="entity_def" id="Term31.t.eq.simps(12)|thm"><span class="entity_def" id="Term31.t.eq.simps(11)|thm"><span class="entity_def" id="Term31.t.eq.simps(10)|thm"><span class="entity_def" id="Term31.t.eq.simps(9)|thm"><span class="entity_def" id="Term31.t.eq.simps(8)|thm"><span class="entity_def" id="Term31.t.eq.simps(7)|thm"><span class="entity_def" id="Term31.t.eq.simps(6)|thm"><span class="entity_def" id="Term31.t.eq.simps(5)|thm"><span class="entity_def" id="Term31.t.eq.simps(4)|thm"><span class="entity_def" id="Term31.t.eq.simps(3)|thm"><span class="entity_def" id="Term31.t.eq.simps(2)|thm"><span class="entity_def" id="Term31.t.eq.simps(1)|thm"><span class="entity_def" id="Term31.t.eq.refl|thm"><span class="entity_def" id="Term31.arity_equal_t|thm"><span class="entity_def" id="Term31.equal_t_def|thm"><span class="entity_def" id="Term31.equal_t_inst.equal_t|thm"><span class="entity_def" id="Term31.arity_partial_term_of_t|thm"><span class="entity_def" id="Term31.partial_term_of_t_triv|thm"><span class="entity_def" id="Term31.partial_term_of_t_inst.partial_term_of_t|thm"><span class="entity_def" id="Term31.arity_term_of_t|thm"><span class="entity_def" id="Term31.term_of_t_triv|thm"><span class="entity_def" id="Term31.term_of_t_inst.term_of_t|thm"><span class="entity_def" id="Term31.t.case_t_def|thm"><span class="entity_def" id="Term31.t.ctor_rec_t_def|thm"><span class="entity_def" id="Term31.t.dtor_t_def|thm"><span class="entity_def" id="Term31.t.ctor_fold_t_def|thm"><span class="entity_def" id="Term31.t.ctor_t_def|thm"><span class="entity_def" id="Term31.arity_typerep_t|thm"><span class="entity_def" id="Term31.typerep_t_def|thm"><span class="entity_def" id="Term31.typerep_t_inst.typerep_t|thm"><span class="entity_def" id="Term31.t.Abs_t_induct|thm"><span class="entity_def" id="Term31.t.Rep_t_induct|thm"><span class="entity_def" id="Term31.t.Abs_t_cases|thm"><span class="entity_def" id="Term31.t.Rep_t_cases|thm"><span class="entity_def" id="Term31.t.Abs_t_inject|thm"><span class="entity_def" id="Term31.t.Rep_t_inject|thm"><span class="entity_def" id="Term31.t.Abs_t_inverse|thm"><span class="entity_def" id="Term31.t.Rep_t_inverse|thm"><span class="entity_def" id="Term31.t.Rep_t|thm"><span class="entity_def" id="Term31.t.type_definition_t|thm"><span class="entity_def" id="Term31.arity_type_t|thm"><span class="entity_def" id="Term31.t.str_init_t_def|thm"><span class="entity_def" id="Term31.t.arity_typerep_t_IITN_t|thm"><span class="entity_def" id="Term31.t.typerep_t_IITN_t_def|thm"><span class="entity_def" id="Term31.t.typerep_t_IITN_t_inst.typerep_t_IITN_t|thm"><span class="entity_def" id="Term31.t.t_IITN_t.Abs_t_IITN_t_induct|thm"><span class="entity_def" id="Term31.t.t_IITN_t.Rep_t_IITN_t_induct|thm"><span class="entity_def" id="Term31.t.t_IITN_t.Abs_t_IITN_t_cases|thm"><span class="entity_def" id="Term31.t.t_IITN_t.Rep_t_IITN_t_cases|thm"><span class="entity_def" id="Term31.t.t_IITN_t.Abs_t_IITN_t_inject|thm"><span class="entity_def" id="Term31.t.t_IITN_t.Rep_t_IITN_t_inject|thm"><span class="entity_def" id="Term31.t.t_IITN_t.Abs_t_IITN_t_inverse|thm"><span class="entity_def" id="Term31.t.t_IITN_t.Rep_t_IITN_t_inverse|thm"><span class="entity_def" id="Term31.t.t_IITN_t.Rep_t_IITN_t|thm"><span class="entity_def" id="Term31.t.t_IITN_t.type_definition_t_IITN_t|thm"><span class="entity_def" id="Term31.arity_type_t_IITN_t|thm"><span class="entity_def" id="Term31.t.min_alg_t_def|thm"><span class="entity_def" id="Term31.t.mor_t_def|thm"><span class="entity_def" id="Term31.t.alg_t_def|thm"><span class="entity_def" id="Term31.pre_t.t.set_pre_t_def|thm"><span class="entity_def" id="Term31.pre_t.t.rel_pre_t_def|thm"><span class="entity_def" id="Term31.pre_t.t.map_pre_t_def|thm"><span class="entity_def" id="Term31.t.arity_typerep_t_pre_t|thm"><span class="entity_def" id="Term31.t.typerep_t_pre_t_def|thm"><span class="entity_def" id="Term31.t.typerep_t_pre_t_inst.typerep_t_pre_t|thm"><span class="entity_def" id="Term31.t.t_pre_t.Abs_t_pre_t_induct|thm"><span class="entity_def" id="Term31.t.t_pre_t.Rep_t_pre_t_induct|thm"><span class="entity_def" id="Term31.t.t_pre_t.Abs_t_pre_t_cases|thm"><span class="entity_def" id="Term31.t.t_pre_t.Rep_t_pre_t_cases|thm"><span class="entity_def" id="Term31.t.t_pre_t.Abs_t_pre_t_inject|thm"><span class="entity_def" id="Term31.t.t_pre_t.Rep_t_pre_t_inject|thm"><span class="entity_def" id="Term31.t.t_pre_t.Abs_t_pre_t_inverse|thm"><span class="entity_def" id="Term31.t.t_pre_t.Rep_t_pre_t_inverse|thm"><span class="entity_def" id="Term31.t.t_pre_t.Rep_t_pre_t|thm"><span class="entity_def" id="Term31.t.t_pre_t.type_definition_t_pre_t|thm"><span class="entity_def" id="Term31.arity_type_t_pre_t|thm"><span class="entity_def" id="Term31.full_exhaustive_t_def|axiom"><span class="entity_def" id="Term31.full_exhaustive_t_inst.full_exhaustive_t_def|axiom"><span class="entity_def" id="Term31.narrowing_t_def|axiom"><span class="entity_def" id="Term31.narrowing_t_inst.narrowing_t_def|axiom"><span class="entity_def" id="Term31.random_t_def_raw|axiom"><span class="entity_def" id="Term31.random_t_inst.random_t_def|axiom"><span class="entity_def" id="Term31.random_aux_t_def|axiom"><span class="entity_def" id="Term31.t.size_t_overloaded_def|axiom"><span class="entity_def" id="Term31.size_t_inst.size_t_def|axiom"><span class="entity_def" id="Term31.t.size_t_def|axiom"><span class="entity_def" id="Term31.t.rec_t_def|axiom"><span class="entity_def" id="Term31.equal_t_def_raw|axiom"><span class="entity_def" id="Term31.equal_t_inst.equal_t_def|axiom"><span class="entity_def" id="Term31.partial_term_of_t_triv_raw|axiom"><span class="entity_def" id="Term31.partial_term_of_t_inst.partial_term_of_t_def|axiom"><span class="entity_def" id="Term31.term_of_t_triv_raw|axiom"><span class="entity_def" id="Term31.term_of_t_inst.term_of_t_def|axiom"><span class="entity_def" id="Term31.t.case_t_def|axiom"><span class="entity_def" id="Term31.t.Cond_def|axiom"><span class="entity_def" id="Term31.t.false_def|axiom"><span class="entity_def" id="Term31.t.true_def|axiom"><span class="entity_def" id="Term31.t.ctor_rec_t_def|axiom"><span class="entity_def" id="Term31.t.dtor_t_def|axiom"><span class="entity_def" id="Term31.t.ctor_fold_t_def|axiom"><span class="entity_def" id="Term31.t.ctor_t_def|axiom"><span class="entity_def" id="Term31.typerep_t_def_raw|axiom"><span class="entity_def" id="Term31.typerep_t_inst.typerep_t_def|axiom"><span class="entity_def" id="Term31.t.type_definition_t|axiom"><span class="entity_def" id="Term31.arity_type_t|axiom"><span class="entity_def" id="Term31.t.str_init_t_def|axiom"><span class="entity_def" id="Term31.t.typerep_t_IITN_t_def_raw|axiom"><span class="entity_def" id="Term31.t.typerep_t_IITN_t_inst.typerep_t_IITN_t_def|axiom"><span class="entity_def" id="Term31.t.t_IITN_t.type_definition_t_IITN_t|axiom"><span class="entity_def" id="Term31.arity_type_t_IITN_t|axiom"><span class="entity_def" id="Term31.t.min_alg_t_def|axiom"><span class="entity_def" id="Term31.t.mor_t_def|axiom"><span class="entity_def" id="Term31.t.alg_t_def|axiom"><span class="entity_def" id="Term31.pre_t.t.wit_pre_t_def|axiom"><span class="entity_def" id="Term31.pre_t.t.pred_pre_t_def|axiom"><span class="entity_def" id="Term31.pre_t.t.rel_pre_t_def|axiom"><span class="entity_def" id="Term31.pre_t.t.set_pre_t_def|axiom"><span class="entity_def" id="Term31.pre_t.t.map_pre_t_def|axiom"><span class="entity_def" id="Term31.t.typerep_t_pre_t_def_raw|axiom"><span class="entity_def" id="Term31.t.typerep_t_pre_t_inst.typerep_t_pre_t_def|axiom"><span class="entity_def" id="Term31.t.t_pre_t.type_definition_t_pre_t|axiom"><span class="entity_def" id="Term31.arity_type_t_pre_t|axiom"><span class="entity_def" id="Term31.raw_prod.t.sum2.sum2.prod.Product_Type.wit_raw_prod_def|axiom"><span class="entity_def" id="Term31.full_exhaustive_t_inst.full_exhaustive_t|const"><span class="entity_def" id="Term31.narrowing_t_inst.narrowing_t|const"><span class="entity_def" id="Term31.random_t_inst.random_t|const"><span class="entity_def" id="Term31.random_aux_t|const"><span class="entity_def" id="Term31.size_t_inst.size_t|const"><span class="entity_def" id="Term31.t.size_t|const"><span class="entity_def" id="Term31.equal_t_inst.equal_t|const"><span class="entity_def" id="Term31.partial_term_of_t_inst.partial_term_of_t|const"><span class="entity_def" id="Term31.term_of_t_inst.term_of_t|const"><span class="entity_def" id="Term31.t.case_t|const"><span class="entity_def" id="Term31.typerep_t_inst.typerep_t|const"><span class="entity_def" id="Term31.t.Abs_t|const"><span class="entity_def" id="Term31.t.Rep_t|const"><span class="entity_def" id="Term31.t.typerep_t_IITN_t_inst.typerep_t_IITN_t|const"><span class="entity_def" id="Term31.t.t_IITN_t.Abs_t_IITN_t|const"><span class="entity_def" id="Term31.t.t_IITN_t.Rep_t_IITN_t|const"><span class="entity_def" id="Term31.t.mor_t|const"><span class="entity_def" id="Term31.t.alg_t|const"><span class="entity_def" id="Term31.t.typerep_t_pre_t_inst.typerep_t_pre_t|const"><span class="entity_def" id="Term31.t.t_pre_t.Abs_t_pre_t|const"><span class="entity_def" id="Term31.t.t_pre_t.Rep_t_pre_t|const"><span class="entity_def" id="Term31.raw_prod.t.sum2.sum2.prod.Product_Type.wit_raw_prod|const"><span class="entity_def" id="Term31.t.t_IITN_t|type"><span>datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Term31.t.rec_t|const"><span class="entity_def" id="Term31.t.ctor_rec_t|const"><span class="entity_def" id="Term31.t.dtor_t|const"><span class="entity_def" id="Term31.t.ctor_fold_t|const"><span class="entity_def" id="Term31.t.ctor_t|const"><span class="entity_def" id="Term31.t.str_init_t|const"><span class="entity_def" id="Term31.t.min_alg_t|const"><span class="entity_def" id="Term31.pre_t.t.wit_pre_t|const"><span class="entity_def" id="Term31.pre_t.t.pred_pre_t|const"><span class="entity_def" id="Term31.pre_t.t.rel_pre_t|const"><span class="entity_def" id="Term31.pre_t.t.set_pre_t|const"><span class="entity_def" id="Term31.pre_t.t.map_pre_t|const"><span class="entity_def" id="Term31.t|type"><span class="entity_def" id="Term31.t.t_pre_t|type"><span>t</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
  </span><span class="main"><span>=</span></span><span> </span><span class="entity_def" id="Term31.t.true|const"><span>true</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.t.false|const"><span>false</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.t.Cond|const"><span>Cond</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span>If</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span>_</span><span> </span><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span>Then</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span>_</span><span> </span><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span class="keyword1"><span>Else</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>95</span><span class="main"><span>,</span></span><span>95</span><span class="main"><span>,</span></span><span>95</span><span class="main"><span>]</span></span><span> 90</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.eval.inducts|fact"><span class="entity_def" id="Term31.eval.simps|fact"><span class="entity_def" id="Term31.eval.induct|fact"><span class="entity_def" id="Term31.eval.cases|fact"><span class="entity_def" id="Term31.eval.intros|fact"><span class="entity_def" id="Term31.eval.inducts|thm"><span class="entity_def" id="Term31.eval.simps|thm"><span class="entity_def" id="Term31.eval.induct|thm"><span class="entity_def" id="Term31.eval.cases|thm"><span class="entity_def" id="Term31.eval.intros(3)|thm"><span class="entity_def" id="Term31.eval.intros(2)|thm"><span class="entity_def" id="Term31.eval.intros(1)|thm"><span class="entity_def" id="Term31.eval_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Term31.eval|const"><span>eval</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span> </span><span class="keyword1"><span>↦</span></span><span> </span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>50</span><span class="main"><span>,</span></span><span>50</span><span class="main"><span>]</span></span><span> 40</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="Term31.eval.E_IfTrue|fact"><span class="entity_def" id="Term31.eval.E_IfTrue|thm"><span>E_IfTrue</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span> </span><span class="main"><span class="free"><span>↦</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval.E_IfFalse|fact"><span class="entity_def" id="Term31.eval.E_IfFalse|thm"><span>E_IfFalse</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span> </span><span class="main"><span class="free"><span>↦</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval.E_If|fact"><span class="entity_def" id="Term31.eval.E_If|thm"><span>E_If</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><span class="free"><span>↦</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span> </span><span class="main"><span class="free"><span>↦</span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1'</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.is_value_def|fact"><span class="entity_def" id="Term31.is_value_def|thm"><span class="entity_def" id="Term31.is_value_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Term31.is_value|const"><span>is_value</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>is_value</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="main"><span>∨</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.true_is_value|fact"><span class="entity_def" id="Term31.true_is_value|thm"><span>true_is_value</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_value|const"><span>is_value</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_value_def|fact"><span>is_value_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.false_is_value|fact"><span class="entity_def" id="Term31.false_is_value|thm"><span>false_is_value</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_value|const"><span>is_value</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_value_def|fact"><span>is_value_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.if_isnot_value|fact"><span class="entity_def" id="Term31.if_isnot_value|thm"><span>if_isnot_value</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_value|const"><span>is_value</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span>False</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_value_def|fact"><span>is_value_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.ex_353|fact"><span class="entity_def" id="Term31.ex_353|thm"><span>ex_353</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_734..735">s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_783..784">t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_827..828">u</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_734..735"><span>s</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_783..784"><span>t</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_827..828"><span>u</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.E_If|fact"><span>E_If</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.E_If|fact"><span>E_If</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.E_IfTrue|fact"><span>E_IfTrue</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.true_cannot_eval|fact"><span class="entity_def" id="Term31.true_cannot_eval|thm"><span>true_cannot_eval</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.cases|fact"><span>eval.cases</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.false_cannot_eval|fact"><span class="entity_def" id="Term31.false_cannot_eval|thm"><span>false_cannot_eval</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.cases|fact"><span>eval.cases</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_IfTrue_eq_then|fact"><span class="entity_def" id="Term31.eval_IfTrue_eq_then|thm"><span>eval_IfTrue_eq_then</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t2'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t2'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.cases|fact"><span>eval.cases</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.true_cannot_eval|fact"><span>true_cannot_eval</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_IfFalse_eq_else|fact"><span class="entity_def" id="Term31.eval_IfFalse_eq_else|thm"><span>eval_IfFalse_eq_else</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t3'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t3'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t3</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.cases|fact"><span>eval.cases</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.false_cannot_eval|fact"><span>false_cannot_eval</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>3.5.4 deterministic of eval</span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.4 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.eval_deterministic|fact"><span class="entity_def" id="Term31.eval_deterministic|thm"><span>eval_deterministic</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>t'</span></span></span><span> </span><span class="quoted"><span class="free"><span>t''</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>true</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.true_cannot_eval|fact"><span>true_cannot_eval</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>false</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.false_cannot_eval|fact"><span>false_cannot_eval</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Cond</span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>t3</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>t''</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_1716..1725">t1_induct</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>t'</span></span><span> </span><span class="bound"><span>t''</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>t''</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_1777..1780">et'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="skolem"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_1820..1824">et''</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="skolem"><span>t''</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t''</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>t1</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_1902..1906">true</span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_1902..1906"><span>true</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_IfTrue_eq_then|fact"><span>eval_IfTrue_eq_then</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_1777..1780"><span>et'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t''</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_1902..1906"><span>true</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_IfTrue_eq_then|fact"><span>eval_IfTrue_eq_then</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_1820..1824"><span>et''</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_2090..2095">false</span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t3</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_2090..2095"><span>false</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_IfFalse_eq_else|fact"><span>eval_IfFalse_eq_else</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_1777..1780"><span>et'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t''</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t3</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_2090..2095"><span>false</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_IfFalse_eq_else|fact"><span>eval_IfFalse_eq_else</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_1820..1824"><span>et''</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_2283..2287">Cond</span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t1'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2309..2314">t1t1'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="skolem"><span>t1'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2331..2335">t'if</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_2283..2287"><span>Cond</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_1777..1780"><span>et'</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.cases|fact"><span>eval.cases</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t1''</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2432..2438">t1t1''</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="skolem"><span>t1''</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2456..2461">t''if</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t''</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1''</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_2283..2287"><span>Cond</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_1820..1824"><span>et''</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.cases|fact"><span>eval.cases</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t1'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t1''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_1716..1725"><span>t1_induct</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_2309..2314"><span>t1t1'</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_2432..2438"><span>t1t1''</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_2331..2335"><span>t'if</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_2456..2461"><span>t''if</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.is_normal_form_def|fact"><span class="entity_def" id="Term31.is_normal_form_def|thm"><span class="entity_def" id="Term31.is_normal_form_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Term31.is_normal_form|const"><span>is_normal_form</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>is_normal_form</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.is_normal_formE|fact"><span class="entity_def" id="Term31.is_normal_formE|thm"><span>is_normal_formE</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_def|fact"><span>is_normal_form_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.is_normal_formI|fact"><span class="entity_def" id="Term31.is_normal_formI|thm"><span>is_normal_formI</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>elim</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_def|fact"><span>is_normal_form_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.true_is_normal_form|fact"><span class="entity_def" id="Term31.true_is_normal_form|thm"><span>true_is_normal_form</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.true_cannot_eval|fact"><span>true_cannot_eval</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_def|fact"><span>is_normal_form_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.false_is_normal_form|fact"><span class="entity_def" id="Term31.false_is_normal_form|thm"><span>false_is_normal_form</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.false_cannot_eval|fact"><span>false_cannot_eval</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_def|fact"><span>is_normal_form_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.normal_form_cannot_eval|fact"><span class="entity_def" id="Term31.normal_form_cannot_eval|thm"><span>normal_form_cannot_eval</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span>False</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_def|fact"><span>is_normal_form_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.if_isnot_normal_form|fact"><span class="entity_def" id="Term31.if_isnot_normal_form|thm"><span>if_isnot_normal_form</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t1</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>t2</span></span></span><span> </span><span class="quoted"><span class="free"><span>t3</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.E_IfTrue|fact"><span>E_IfTrue</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_def|fact"><span>is_normal_form_def</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.E_IfFalse|fact"><span>E_IfFalse</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_def|fact"><span>is_normal_form_def</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.E_If|fact"><span>E_If</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_def|fact"><span>is_normal_form_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>3.5.7 value is normal form</span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.7 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.value_is_normal_form|fact"><span class="entity_def" id="Term31.value_is_normal_form|thm"><span>value_is_normal_form</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_value|const"><span>is_value</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_value_def|fact"><span>is_value_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>3.5.8 normal form is value</span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.8 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.normal_form_is_value|fact"><span class="entity_def" id="Term31.normal_form_is_value|thm"><span>normal_form_is_value</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_value|const"><span>is_value</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.exhaust|fact"><span>t.exhaust</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>t</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.if_isnot_normal_form|fact"><span>if_isnot_normal_form</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>3.5.9 definition of eval*</span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.9 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.eval_star.inducts|fact"><span class="entity_def" id="Term31.eval_star.simps|fact"><span class="entity_def" id="Term31.eval_star.induct|fact"><span class="entity_def" id="Term31.eval_star.cases|fact"><span class="entity_def" id="Term31.eval_star.intros|fact"><span class="entity_def" id="Term31.eval_star.inducts|thm"><span class="entity_def" id="Term31.eval_star.simps|thm"><span class="entity_def" id="Term31.eval_star.induct|thm"><span class="entity_def" id="Term31.eval_star.cases|thm"><span class="entity_def" id="Term31.eval_star.intros(3)|thm"><span class="entity_def" id="Term31.eval_star.intros(2)|thm"><span class="entity_def" id="Term31.eval_star.intros(1)|thm"><span class="entity_def" id="Term31.eval_star_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Term31.eval_star|const"><span>eval_star</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span> </span><span class="keyword1"><span>↦*</span></span><span> </span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>50</span><span class="main"><span>,</span></span><span>50</span><span class="main"><span>]</span></span><span> 40</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="Term31.eval_star.EsRefl|fact"><span class="entity_def" id="Term31.eval_star.EsRefl|thm"><span>EsRefl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span class="free"><span>↦*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_star.EsStep|fact"><span class="entity_def" id="Term31.eval_star.EsStep|thm"><span>EsStep</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span class="free"><span>↦*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_star.EsTrans|fact"><span class="entity_def" id="Term31.eval_star.EsTrans|thm"><span>EsTrans</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span class="free"><span>↦*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span class="free"><span>↦*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t''</span></span></span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span class="free"><span>↦*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t''</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_refl|fact"><span class="entity_def" id="Term31.eval_star_refl|thm"><span>eval_star_refl</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsRefl|fact"><span>EsRefl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_step|fact"><span class="entity_def" id="Term31.eval_star_step|thm"><span>eval_star_step</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsStep|fact"><span>EsStep</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_trans1|fact"><span class="entity_def" id="Term31.eval_star_trans1|thm"><span>eval_star_trans1</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsTrans|fact"><span>EsTrans</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_trans2|fact"><span class="entity_def" id="Term31.eval_star_trans2|thm"><span>eval_star_trans2</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span>  </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsStep|fact"><span>EsStep</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsTrans|fact"><span>EsTrans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_trans3|fact"><span class="entity_def" id="Term31.eval_star_trans3|thm"><span>eval_star_trans3</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span>  </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsStep|fact"><span>EsStep</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsTrans|fact"><span>EsTrans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_starI1|fact"><span class="entity_def" id="Term31.eval_starI1|thm"><span>eval_starI1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t''</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsRefl|fact"><span>EsRefl</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsStep|fact"><span>EsStep</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsTrans|fact"><span>EsTrans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_starI2|fact"><span class="entity_def" id="Term31.eval_starI2|thm"><span>eval_starI2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t''</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsRefl|fact"><span>EsRefl</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsStep|fact"><span>EsStep</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsTrans|fact"><span>EsTrans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_starI3|fact"><span class="entity_def" id="Term31.eval_starI3|thm"><span>eval_starI3</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t''</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsRefl|fact"><span>EsRefl</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsStep|fact"><span>EsStep</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsTrans|fact"><span>EsTrans</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.E_If_star|fact"><span class="entity_def" id="Term31.E_If_star|thm"><span>E_If_star</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t1'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.induct|fact"><span>eval_star.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>EsRefl</span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_refl|fact"><span>eval_star_refl</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>refl</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_5056..5062">EsStep</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_step|fact"><span>eval_star_step</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.E_If|fact"><span>E_If</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#offset_5056..5062"><span>EsStep</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_5144..5151">EsTrans</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>t'</span></span><span> </span><span class="skolem"><span>t''</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_trans1|fact"><span>eval_star_trans1</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#offset_5144..5151"><span>EsTrans</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#offset_5144..5151"><span>EsTrans</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_IfTrue|fact"><span class="entity_def" id="Term31.eval_star_IfTrue|thm"><span>eval_star_IfTrue</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.E_If_star|fact"><span>E_If_star</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>t1</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.E_IfTrue|fact"><span>E_IfTrue</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_trans2|fact"><span>eval_star_trans2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_trans3|fact"><span>eval_star_trans3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_IfFalse|fact"><span class="entity_def" id="Term31.eval_star_IfFalse|thm"><span>eval_star_IfFalse</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t3</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.E_If_star|fact"><span>E_If_star</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>t1</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.E_IfFalse|fact"><span>E_IfFalse</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_trans2|fact"><span>eval_star_trans2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_trans3|fact"><span>eval_star_trans3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.normal_form_eval_star_refl|fact"><span class="entity_def" id="Term31.normal_form_eval_star_refl|thm"><span>normal_form_eval_star_refl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5605..5607">es</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5629..5631">vt</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_5605..5607"><span>es</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_5629..5631"><span>vt</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.induct|fact"><span>eval_star.induct</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.normal_form_cannot_eval|fact"><span>normal_form_cannot_eval</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.normal_form_cannot_eval|fact"><span>normal_form_cannot_eval</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>3.5.11 deterministic of eval*</span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.11 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> eval_star_deterministic</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t''</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.induct|fact"><span>eval_star.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>EsRefl</span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.normal_form_cannot_eval|fact"><span>normal_form_cannot_eval</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>EsStep</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_deterministic|fact"><span>eval_deterministic</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>EsTrans</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>tmid'</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>3.5.11' definition of eval n</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.eval_n.inducts|fact"><span class="entity_def" id="Term31.eval_n.simps|fact"><span class="entity_def" id="Term31.eval_n.induct|fact"><span class="entity_def" id="Term31.eval_n.cases|fact"><span class="entity_def" id="Term31.eval_n.intros|fact"><span class="entity_def" id="Term31.eval_n.inducts|thm"><span class="entity_def" id="Term31.eval_n.simps|thm"><span class="entity_def" id="Term31.eval_n.induct|thm"><span class="entity_def" id="Term31.eval_n.cases|thm"><span class="entity_def" id="Term31.eval_n.intros(2)|thm"><span class="entity_def" id="Term31.eval_n.intros(1)|thm"><span class="entity_def" id="Term31.eval_n_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Term31.eval_n|const"><span>eval_n</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span> </span><span class="keyword1"><span>↦^</span></span><span>_</span><span> </span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>50</span><span class="main"><span>,</span></span><span>90</span><span class="main"><span>,</span></span><span>50</span><span class="main"><span>]</span></span><span> 40</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="Term31.eval_n.En0|fact"><span class="entity_def" id="Term31.eval_n.En0|thm"><span>En0</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span class="free"><span>↦^</span></span></span><span class="main"><span>0</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_n.EnN|fact"><span class="entity_def" id="Term31.eval_n.EnN|thm"><span>EnN</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span class="free"><span>↦^</span></span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t''</span></span></span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span class="free"><span>↦^</span></span></span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t''</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_0_refl|fact"><span class="entity_def" id="Term31.eval_0_refl|thm"><span>eval_0_refl</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>elim</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>0</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Zero_neq_Suc</span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.simps|fact"><span>eval_n.simps</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_1_step|fact"><span class="entity_def" id="Term31.eval_1_step|thm"><span>eval_1_step</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>elim</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>1</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.simps|fact"><span>eval_n.simps</span></a><span> </span><span>lessI</span><span> </span><span>less_one</span><span> </span><span>nat.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>one_neq_zero</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_n_star|fact"><span class="entity_def" id="Term31.eval_n_star|thm"><span>eval_n_star</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>elim</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.induct|fact"><span>eval_n.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>En0</span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.EsRefl|fact"><span>EsRefl</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>EnN</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>t'</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>t''</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.exist_last_step|fact"><span class="entity_def" id="Term31.exist_last_step|thm"><span>exist_last_step</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span>t''</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.simps|fact"><span>eval_n.simps</span></a><span> </span><span>nat.inject</span><span> </span><span>old.nat.distinct</span><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.exist_mid_step|fact"><span class="entity_def" id="Term31.exist_mid_step|thm"><span>exist_mid_step</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span>t''</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>m</span></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>t'</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.En0|fact"><span>En0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.EnN|fact"><span>EnN</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.exist_last_step|fact"><span>exist_last_step</span></a><span> </span><span>nat_arith.suc1</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.exist_mid_step2|fact"><span class="entity_def" id="Term31.exist_mid_step2|thm"><span>exist_mid_step2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span>t''</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.exist_mid_step|fact"><span>exist_mid_step</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.exist_first_step|fact"><span class="entity_def" id="Term31.exist_first_step|thm"><span>exist_first_step</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span>t''</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.exist_mid_step|fact"><span>exist_mid_step</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> n</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="main"><span>1</span></span></span><span class="main"><span>,</span></span><span> </span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> m</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_n_plus_1|fact"><span class="entity_def" id="Term31.eval_n_plus_1|thm"><span>eval_n_plus_1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.EnN|fact"><span>EnN</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_n_plus_m|fact"><span class="entity_def" id="Term31.eval_n_plus_m|thm"><span>eval_n_plus_m</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>m</span></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><span>+</span></span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>t'</span></span></span><span> </span><span class="quoted"><span class="free"><span>t''</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_0_refl|fact"><span>eval_0_refl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.simps|fact"><span>eval_n.simps</span></a><span> </span><span>nat.inject</span><span> </span><span>nat.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>nat_arith.suc1</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_1_plus_n|fact"><span class="entity_def" id="Term31.eval_1_plus_n|thm"><span>eval_1_plus_n</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>One_nat_def</span><span> </span><span>Suc_eq_plus1_left</span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.simps|fact"><span>eval_n.simps</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n_plus_m|fact"><span>eval_n_plus_m</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.refl_eval_0|fact"><span class="entity_def" id="Term31.refl_eval_0|thm"><span>refl_eval_0</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>0</span></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.En0|fact"><span>En0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.step_eval_1|fact"><span class="entity_def" id="Term31.step_eval_1|thm"><span>step_eval_1</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>1</span></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.En0|fact"><span>En0</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.EnN|fact"><span>EnN</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_eval_n|fact"><span class="entity_def" id="Term31.eval_star_eval_n|thm"><span>eval_star_eval_n</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="bound"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star.induct|fact"><span>eval_star.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>EsRefl</span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n.En0|fact"><span>En0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>EsStep</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.step_eval_1|fact"><span>step_eval_1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>EsTrans</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>t'</span></span><span> </span><span class="skolem"><span>t''</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n_plus_m|fact"><span>eval_n_plus_m</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.can_eval_suc_inot_normal_form|fact"><span class="entity_def" id="Term31.can_eval_suc_inot_normal_form|thm"><span>can_eval_suc_inot_normal_form</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Suc_eq_plus1_left</span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_1_step|fact"><span>eval_1_step</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.exist_mid_step|fact"><span>exist_mid_step</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_formI|fact"><span>is_normal_formI</span></a><span> </span><span>less_numeral_extra</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>not0_implies_Suc</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>3.5.11'' deterministic of eval n</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.eval_n_deterministic|fact"><span class="entity_def" id="Term31.eval_n_deterministic|thm"><span>eval_n_deterministic</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>t'</span></span></span><span> </span><span class="quoted"><span class="free"><span>t''</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_0_refl|fact"><span>eval_0_refl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_8801..8804">Suc</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.exist_last_step|fact"><span>exist_last_step</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>tp'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_8874..8878">tp'n</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>tp'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8895..8902">tp'next</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>tp'</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="skolem"><span>t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>t''</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.exist_last_step|fact"><span>exist_last_step</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>tp''</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_8991..8996">tp''n</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>tp''</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9014..9022">tp''next</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>tp''</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="skolem"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9052..9054">eq</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>tp'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>tp''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_8874..8878"><span>tp'n</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_8991..8996"><span>tp''n</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_8801..8804"><span>Suc</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t''</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_8895..8902"><span>tp'next</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_9014..9022"><span>tp''next</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_9052..9054"><span>eq</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_deterministic|fact"><span>eval_deterministic</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_mid_isnot_normal_form|fact"><span class="entity_def" id="Term31.eval_mid_isnot_normal_form|thm"><span>eval_mid_isnot_normal_form</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>m</span></span><span> </span><span class="free"><span>t''</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t''</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9323..9325">mn</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t'''</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_9360..9363">pre</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>m</span></span><span> </span><span class="skolem"><span>t'''</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9381..9385">post</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t'''</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><span>-</span></span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.exist_mid_step2|fact"><span>exist_mid_step2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9442..9444">nv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="skolem"><span>t'''</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.can_eval_suc_inot_normal_form|fact"><span>can_eval_suc_inot_normal_form</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Term31.html#offset_9381..9385"><span>post</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_9323..9325"><span>mn</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>arith</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>m</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t'''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_9360..9363"><span>pre</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n_deterministic|fact"><span>eval_n_deterministic</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_9442..9444"><span>nv</span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t''</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_mid_isnot_normal_form2|fact"><span class="entity_def" id="Term31.eval_mid_isnot_normal_form2|thm"><span>eval_mid_isnot_normal_form2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>m</span></span><span> </span><span class="free"><span>t''</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_mid_isnot_normal_form|fact"><span>eval_mid_isnot_normal_form</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_n_normal_exist_only_one|fact"><span class="entity_def" id="Term31.eval_n_normal_exist_only_one|thm"><span>eval_n_normal_exist_only_one</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>m</span></span><span> </span><span class="free"><span>t''</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_mid_isnot_normal_form2|fact"><span>eval_mid_isnot_normal_form2</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> n</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_mid_isnot_normal_form2|fact"><span>eval_mid_isnot_normal_form2</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> n</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>m</span></span></span><span class="main"><span>]</span></span><span> </span><span>nat_neq_iff</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_n_deterministic_on_normal_form|fact"><span class="entity_def" id="Term31.eval_n_deterministic_on_normal_form|thm"><span>eval_n_deterministic_on_normal_form</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>n</span></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_n|const"><span>↦^</span></a></span><span class="free"><span>m</span></span><span> </span><span class="free"><span>t''</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n_normal_exist_only_one|fact"><span>eval_n_normal_exist_only_one</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n_deterministic|fact"><span>eval_n_deterministic</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>3.5.11 deterministic of eval*</span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.11 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_deterministic|fact"><span class="entity_def" id="Term31.eval_star_deterministic|thm"><span>eval_star_deterministic</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="free"><span>t''</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_eval_n|fact"><span>eval_star_eval_n</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_eval_n|fact"><span>eval_star_eval_n</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_n_deterministic_on_normal_form|fact"><span>eval_n_deterministic_on_normal_form</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>3.5.12 eval* halt</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.size.simps|fact"><span class="entity_def" id="Term31.size_def|fact"><span class="entity_def" id="Term31.size.simps(3)|thm"><span class="entity_def" id="Term31.size.simps(2)|thm"><span class="entity_def" id="Term31.size.simps(1)|thm"><span class="entity_def" id="Term31.size_def|thm"><span class="entity_def" id="Term31.size_def|axiom"><span>primrec</span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Term31.size|const"><span>size</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>nat</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="entity_def" id="Term31.size.size_true|fact"><span class="entity_def" id="Term31.size.size_true|thm"><span>size_true</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>size</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.size.size_false|fact"><span class="entity_def" id="Term31.size.size_false|thm"><span>size_false</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>size</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.size.size_if|fact"><span class="entity_def" id="Term31.size.size_if|thm"><span>size_if</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>size</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>size</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>size</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>size</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.normal_form_size_is_one|fact"><span class="entity_def" id="Term31.normal_form_size_is_one|thm"><span>normal_form_size_is_one</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.size|const"><span>size</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>true</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>false</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_10884..10886">tv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cond</span><span> </span><span class="skolem"><span>x31</span></span><span> </span><span class="skolem"><span>x32</span></span><span> </span><span class="skolem"><span>x33</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_10884..10886"><span>tv</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.if_isnot_normal_form|fact"><span>if_isnot_normal_form</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.can_eval_size_two_or_more|fact"><span class="entity_def" id="Term31.can_eval_size_two_or_more|thm"><span>can_eval_size_two_or_more</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.size|const"><span>size</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="bound"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_def|fact"><span>is_normal_form_def</span></a><span> </span><span>less_numeral_extra</span><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.normal_form_size_is_one|fact"><span>normal_form_size_is_one</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.size_eval_mono|fact"><span class="entity_def" id="Term31.size_eval_mono|thm"><span>size_eval_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.size|const"><span>size</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.size|const"><span>size</span></a><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.induct|fact"><span>eval.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>E_IfTrue</span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>t3</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.size.size_if|fact"><span>size_if</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>arith</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>E_IfFalse</span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>t3</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.size.size_if|fact"><span>size_if</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>arith</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>E_If</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t1'</span></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>t3</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.size.size_if|fact"><span>size_if</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>arith</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.12 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_stop|fact"><span class="entity_def" id="Term31.eval_star_stop|thm"><span>eval_star_stop</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="bound"><span>t'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>true</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>false</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_11618..11622">Cond</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>t3</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t1'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_11652..11657">t1t1'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="skolem"><span>t1'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="skolem"><span>t1'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_11618..11622"><span>Cond.hyps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span>t1_true_false</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t1'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="main"><span>∨</span></span><span> </span><span class="skolem"><span>t1'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.normal_form_is_value|fact"><span>normal_form_is_value</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.is_value_def|fact"><span>is_value_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_IfTrue|fact"><span>eval_star_IfTrue</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_IfFalse|fact"><span>eval_star_IfFalse</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_11652..11657"><span>t1t1'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_11618..11622"><span>Cond.hyps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Term31.html#offset_11618..11622"><span>Cond.hyps</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_trans3|fact"><span>eval_star_trans3</span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval_star|const"><span>↦*</span></a></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form|const"><span>is_normal_form</span></a><span> </span><span class="bound"><span>t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>3.5.13 (1)</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.eval_funny1.inducts|fact"><span class="entity_def" id="Term31.eval_funny1.simps|fact"><span class="entity_def" id="Term31.eval_funny1.induct|fact"><span class="entity_def" id="Term31.eval_funny1.cases|fact"><span class="entity_def" id="Term31.eval_funny1.intros|fact"><span class="entity_def" id="Term31.eval_funny1.inducts|thm"><span class="entity_def" id="Term31.eval_funny1.simps|thm"><span class="entity_def" id="Term31.eval_funny1.induct|thm"><span class="entity_def" id="Term31.eval_funny1.cases|thm"><span class="entity_def" id="Term31.eval_funny1.intros(4)|thm"><span class="entity_def" id="Term31.eval_funny1.intros(3)|thm"><span class="entity_def" id="Term31.eval_funny1.intros(2)|thm"><span class="entity_def" id="Term31.eval_funny1.intros(1)|thm"><span class="entity_def" id="Term31.eval_funny1_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Term31.eval_funny1|const"><span>eval_funny1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span>  </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span> </span><span class="keyword1"><span>↦f1</span></span><span> </span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>50</span><span class="main"><span>,</span></span><span>50</span><span class="main"><span>]</span></span><span> 40</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="Term31.eval_funny1.E_IfTrueF1|fact"><span class="entity_def" id="Term31.eval_funny1.E_IfTrueF1|thm"><span>E_IfTrueF1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f1</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_funny1.E_IfFalseF1|fact"><span class="entity_def" id="Term31.eval_funny1.E_IfFalseF1|thm"><span>E_IfFalseF1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f1</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_funny1.E_IfF1|fact"><span class="entity_def" id="Term31.eval_funny1.E_IfF1|thm"><span>E_IfF1</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f1</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f1</span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1'</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_funny1.E_Funny1|fact"><span class="entity_def" id="Term31.eval_funny1.E_Funny1|thm"><span>E_Funny1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f1</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.is_normal_form_f1_def|fact"><span class="entity_def" id="Term31.is_normal_form_f1_def|thm"><span class="entity_def" id="Term31.is_normal_form_f1_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>is_normal_form_f1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.eval_star_f1.inducts|fact"><span class="entity_def" id="Term31.eval_star_f1.simps|fact"><span class="entity_def" id="Term31.eval_star_f1.induct|fact"><span class="entity_def" id="Term31.eval_star_f1.cases|fact"><span class="entity_def" id="Term31.eval_star_f1.intros|fact"><span class="entity_def" id="Term31.eval_star_f1.inducts|thm"><span class="entity_def" id="Term31.eval_star_f1.simps|thm"><span class="entity_def" id="Term31.eval_star_f1.induct|thm"><span class="entity_def" id="Term31.eval_star_f1.cases|thm"><span class="entity_def" id="Term31.eval_star_f1.intros(3)|thm"><span class="entity_def" id="Term31.eval_star_f1.intros(2)|thm"><span class="entity_def" id="Term31.eval_star_f1.intros(1)|thm"><span class="entity_def" id="Term31.eval_star_f1_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Term31.eval_star_f1|const"><span>eval_star_f1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span> </span><span class="keyword1"><span>↦f1*</span></span><span> </span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>50</span><span class="main"><span>,</span></span><span>50</span><span class="main"><span>]</span></span><span> 40</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="Term31.eval_star_f1.EsReflF1|fact"><span class="entity_def" id="Term31.eval_star_f1.EsReflF1|thm"><span>EsReflF1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f1*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_star_f1.EsStepF1|fact"><span class="entity_def" id="Term31.eval_star_f1.EsStepF1|thm"><span>EsStepF1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f1*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_star_f1.EsTransF1|fact"><span class="entity_def" id="Term31.eval_star_f1.EsTransF1|thm"><span>EsTransF1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f1*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f1*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t''</span></span></span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f1*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t''</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>lemmas</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_funny1_is_eval|fact"><span class="entity_def" id="Term31.eval_funny1_is_eval|thm"><span>eval_funny1_is_eval</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1.E_IfF1|fact"><span>E_IfF1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1.E_IfFalseF1|fact"><span>E_IfFalseF1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1.E_IfTrueF1|fact"><span>E_IfTrueF1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.inducts|fact"><span>eval.inducts</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.is_normal_f1_formE|fact"><span class="entity_def" id="Term31.is_normal_f1_formE|thm"><span>is_normal_f1_formE</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1_def|fact"><span>is_normal_form_f1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.is_normal_f1_formI|fact"><span class="entity_def" id="Term31.is_normal_f1_formI|thm"><span>is_normal_f1_formI</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>elim</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1_def|fact"><span>is_normal_form_f1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.true_is_normal_form_f1|fact"><span class="entity_def" id="Term31.true_is_normal_form_f1|thm"><span>true_is_normal_form_f1</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1.cases|fact"><span>eval_funny1.cases</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.false_is_normal_form_f1|fact"><span class="entity_def" id="Term31.false_is_normal_form_f1|thm"><span>false_is_normal_form_f1</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1.cases|fact"><span>eval_funny1.cases</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.normal_form_f1_cannot_eval|fact"><span class="entity_def" id="Term31.normal_form_f1_cannot_eval|thm"><span>normal_form_f1_cannot_eval</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span>False</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1_is_eval|fact"><span>eval_funny1_is_eval</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_f1_formI|fact"><span>is_normal_f1_formI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.if_isnot_normal_form_f1|fact"><span class="entity_def" id="Term31.if_isnot_normal_form_f1|thm"><span>if_isnot_normal_form_f1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1_is_eval|fact"><span>eval_funny1_is_eval</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.if_isnot_normal_form|fact"><span>if_isnot_normal_form</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.normal_form_f1_cannot_eval|fact"><span>normal_form_f1_cannot_eval</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f1_refl|fact"><span class="entity_def" id="Term31.eval_star_f1_refl|thm"><span>eval_star_f1_refl</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1.EsReflF1|fact"><span>EsReflF1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f1_step|fact"><span class="entity_def" id="Term31.eval_star_f1_step|thm"><span>eval_star_f1_step</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1.EsStepF1|fact"><span>EsStepF1</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f1_trans1|fact"><span class="entity_def" id="Term31.eval_star_f1_trans1|thm"><span>eval_star_f1_trans1</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1.EsTransF1|fact"><span>EsTransF1</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f1_trans2|fact"><span class="entity_def" id="Term31.eval_star_f1_trans2|thm"><span>eval_star_f1_trans2</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span>  </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1.EsStepF1|fact"><span>EsStepF1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1.EsTransF1|fact"><span>EsTransF1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f1_trans3|fact"><span class="entity_def" id="Term31.eval_star_f1_trans3|thm"><span>eval_star_f1_trans3</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span>  </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1.EsStepF1|fact"><span>EsStepF1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1.EsTransF1|fact"><span>EsTransF1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.E_If_star_f1|fact"><span class="entity_def" id="Term31.E_If_star_f1|thm"><span>E_If_star_f1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t1'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1.induct|fact"><span>eval_star_f1.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>EsReflF1</span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_14174..14182">EsStepF1</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1.E_IfF1|fact"><span>E_IfF1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1_step|fact"><span>eval_star_f1_step</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_14174..14182"><span>local.EsStepF1</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_14270..14279">EsTransF1</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>t'</span></span><span> </span><span class="skolem"><span>t''</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_14270..14279"><span>EsTransF1.hyps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Term31.html#offset_14270..14279"><span>EsTransF1.hyps</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f1_IfTrue|fact"><span class="entity_def" id="Term31.eval_star_f1_IfTrue|thm"><span>eval_star_f1_IfTrue</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.E_If_star_f1|fact"><span>E_If_star_f1</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>t1</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1.E_IfTrueF1|fact"><span>E_IfTrueF1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1_trans2|fact"><span>eval_star_f1_trans2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1_trans3|fact"><span>eval_star_f1_trans3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f1_IfFalse|fact"><span class="entity_def" id="Term31.eval_star_f1_IfFalse|thm"><span>eval_star_f1_IfFalse</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t3</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.E_If_star_f1|fact"><span>E_If_star_f1</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>t1</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1.E_IfFalseF1|fact"><span>E_IfFalseF1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1_trans2|fact"><span>eval_star_f1_trans2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1_trans3|fact"><span>eval_star_f1_trans3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>proofs</span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.4 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> eval_deterministic_f1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.eval_deterministic_f1_not|fact"><span class="entity_def" id="Term31.eval_deterministic_f1_not|thm"><span>eval_deterministic_f1_not</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="bound"><span>t''</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny1|const"><span>↦f1</span></a></span><span> </span><span class="bound"><span>t''</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟶</span></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>t''</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1.E_Funny1|fact"><span>E_Funny1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1.E_IfTrueF1|fact"><span>E_IfTrueF1</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.7 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.value_is_normal_form_f1|fact"><span class="entity_def" id="Term31.value_is_normal_form_f1|thm"><span>value_is_normal_form_f1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_value|const"><span>is_value</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_value_def|fact"><span>is_value_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.8 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.normal_form_f1_is_value|fact"><span class="entity_def" id="Term31.normal_form_f1_is_value|thm"><span>normal_form_f1_is_value</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_value|const"><span>is_value</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.exhaust|fact"><span>t.exhaust</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>t</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.if_isnot_normal_form_f1|fact"><span>if_isnot_normal_form_f1</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.11 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> eval_star_deterministic_f1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="free"><span>t''</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_deterministic_f1_not|fact"><span class="entity_def" id="Term31.eval_star_deterministic_f1_not|thm"><span>eval_star_deterministic_f1_not</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="bound"><span>t''</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="bound"><span>t''</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="bound"><span>t''</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟶</span></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>t''</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a></a><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a></a><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1.E_Funny1|fact"><span>E_Funny1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny1.E_IfTrueF1|fact"><span>E_IfTrueF1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1_step|fact"><span>eval_star_f1_step</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.false_is_normal_form_f1|fact"><span>false_is_normal_form_f1</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.t.distinct|fact"><span>t.distinct</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.true_is_normal_form_f1|fact"><span>true_is_normal_form_f1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.12 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f1_stop|fact"><span class="entity_def" id="Term31.eval_star_f1_stop|thm"><span>eval_star_f1_stop</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="bound"><span>t'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>true</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1.EsReflF1|fact"><span>EsReflF1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>false</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1.EsReflF1|fact"><span>EsReflF1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_16195..16199">Cond</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>t3</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t1'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_16229..16234">t1t1'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="skolem"><span>t1'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="skolem"><span>t1'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_16195..16199"><span>Cond.hyps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span>t1_true_false</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t1'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="main"><span>∨</span></span><span> </span><span class="skolem"><span>t1'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.normal_form_f1_is_value|fact"><span>normal_form_f1_is_value</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.is_value_def|fact"><span>is_value_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1_IfTrue|fact"><span>eval_star_f1_IfTrue</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f1_IfFalse|fact"><span>eval_star_f1_IfFalse</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_16229..16234"><span>t1t1'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_16195..16199"><span>Cond.hyps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Term31.html#offset_16195..16199"><span>Cond.hyps</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_trans3|fact"><span>eval_star_trans3</span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f1|const"><span>↦f1*</span></a></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f1|const"><span>is_normal_form_f1</span></a><span> </span><span class="bound"><span>t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>3.5.13 (2)</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.eval_funny2.inducts|fact"><span class="entity_def" id="Term31.eval_funny2.simps|fact"><span class="entity_def" id="Term31.eval_funny2.induct|fact"><span class="entity_def" id="Term31.eval_funny2.cases|fact"><span class="entity_def" id="Term31.eval_funny2.intros|fact"><span class="entity_def" id="Term31.eval_funny2.inducts|thm"><span class="entity_def" id="Term31.eval_funny2.simps|thm"><span class="entity_def" id="Term31.eval_funny2.induct|thm"><span class="entity_def" id="Term31.eval_funny2.cases|thm"><span class="entity_def" id="Term31.eval_funny2.intros(4)|thm"><span class="entity_def" id="Term31.eval_funny2.intros(3)|thm"><span class="entity_def" id="Term31.eval_funny2.intros(2)|thm"><span class="entity_def" id="Term31.eval_funny2.intros(1)|thm"><span class="entity_def" id="Term31.eval_funny2_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Term31.eval_funny2|const"><span>eval_funny2</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span>  </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span> </span><span class="keyword1"><span>↦f2</span></span><span> </span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>50</span><span class="main"><span>,</span></span><span>50</span><span class="main"><span>]</span></span><span> 40</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="Term31.eval_funny2.E_IfTrueF2|fact"><span class="entity_def" id="Term31.eval_funny2.E_IfTrueF2|thm"><span>E_IfTrueF2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_funny2.E_IfFalseF2|fact"><span class="entity_def" id="Term31.eval_funny2.E_IfFalseF2|thm"><span>E_IfFalseF2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_funny2.E_IfF2|fact"><span class="entity_def" id="Term31.eval_funny2.E_IfF2|thm"><span>E_IfF2</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f2</span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1'</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_funny2.E_Funny2|fact"><span class="entity_def" id="Term31.eval_funny2.E_Funny2|thm"><span>E_Funny2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2'</span></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f2</span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2'</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t3</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.is_normal_form_f2_def|fact"><span class="entity_def" id="Term31.is_normal_form_f2_def|thm"><span class="entity_def" id="Term31.is_normal_form_f2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>is_normal_form_f2</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>⟷</span></span><span> </span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Term31.eval_star_f2.inducts|fact"><span class="entity_def" id="Term31.eval_star_f2.simps|fact"><span class="entity_def" id="Term31.eval_star_f2.induct|fact"><span class="entity_def" id="Term31.eval_star_f2.cases|fact"><span class="entity_def" id="Term31.eval_star_f2.intros|fact"><span class="entity_def" id="Term31.eval_star_f2.inducts|thm"><span class="entity_def" id="Term31.eval_star_f2.simps|thm"><span class="entity_def" id="Term31.eval_star_f2.induct|thm"><span class="entity_def" id="Term31.eval_star_f2.cases|thm"><span class="entity_def" id="Term31.eval_star_f2.intros(3)|thm"><span class="entity_def" id="Term31.eval_star_f2.intros(2)|thm"><span class="entity_def" id="Term31.eval_star_f2.intros(1)|thm"><span class="entity_def" id="Term31.eval_star_f2_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Term31.eval_star_f2|const"><span>eval_star_f2</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t|type"><span>t</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span> </span><span class="keyword1"><span>↦f2*</span></span><span> </span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>50</span><span class="main"><span>,</span></span><span>50</span><span class="main"><span>]</span></span><span> 40</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="Term31.eval_star_f2.EsReflF2|fact"><span class="entity_def" id="Term31.eval_star_f2.EsReflF2|thm"><span>EsReflF2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f2*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_star_f2.EsStepF2|fact"><span class="entity_def" id="Term31.eval_star_f2.EsStepF2|thm"><span>EsStepF2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f2*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Term31.eval_star_f2.EsTransF2|fact"><span class="entity_def" id="Term31.eval_star_f2.EsTransF2|thm"><span>EsTransF2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f2*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t'</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f2*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t''</span></span></span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span class="free"><span>↦f2*</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t''</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>lemmas</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_funny2_is_eval|fact"><span class="entity_def" id="Term31.eval_funny2_is_eval|thm"><span>eval_funny2_is_eval</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="Term31.html#Term31.eval|const"><span>↦</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny2.E_IfF2|fact"><span>E_IfF2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny2.E_IfFalseF2|fact"><span>E_IfFalseF2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny2.E_IfTrueF2|fact"><span>E_IfTrueF2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval.inducts|fact"><span>eval.inducts</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.is_normal_f2_formE|fact"><span class="entity_def" id="Term31.is_normal_f2_formE|thm"><span>is_normal_f2_formE</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2_def|fact"><span>is_normal_form_f2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.is_normal_f2_formI|fact"><span class="entity_def" id="Term31.is_normal_f2_formI|thm"><span>is_normal_f2_formI</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>elim</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2_def|fact"><span>is_normal_form_f2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.true_is_normal_form_f2|fact"><span class="entity_def" id="Term31.true_is_normal_form_f2|thm"><span>true_is_normal_form_f2</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny2.cases|fact"><span>eval_funny2.cases</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.false_is_normal_form_f2|fact"><span class="entity_def" id="Term31.false_is_normal_form_f2|thm"><span>false_is_normal_form_f2</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny2.cases|fact"><span>eval_funny2.cases</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.normal_form_f2_cannot_eval|fact"><span class="entity_def" id="Term31.normal_form_f2_cannot_eval|thm"><span>normal_form_f2_cannot_eval</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span>False</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny2_is_eval|fact"><span>eval_funny2_is_eval</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_f2_formI|fact"><span>is_normal_f2_formI</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.if_isnot_normal_form_f2|fact"><span class="entity_def" id="Term31.if_isnot_normal_form_f2|thm"><span>if_isnot_normal_form_f2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny2_is_eval|fact"><span>eval_funny2_is_eval</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.if_isnot_normal_form|fact"><span>if_isnot_normal_form</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.normal_form_f2_cannot_eval|fact"><span>normal_form_f2_cannot_eval</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f2_refl|fact"><span class="entity_def" id="Term31.eval_star_f2_refl|thm"><span>eval_star_f2_refl</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2.EsReflF2|fact"><span>EsReflF2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f2_step|fact"><span class="entity_def" id="Term31.eval_star_f2_step|thm"><span>eval_star_f2_step</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2.EsStepF2|fact"><span>EsStepF2</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f2_trans1|fact"><span class="entity_def" id="Term31.eval_star_f2_trans1|thm"><span>eval_star_f2_trans1</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2.EsTransF2|fact"><span>EsTransF2</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f2_trans2|fact"><span class="entity_def" id="Term31.eval_star_f2_trans2|thm"><span>eval_star_f2_trans2</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span>  </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2.EsStepF2|fact"><span>EsStepF2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2.EsTransF2|fact"><span>EsTransF2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f2_trans3|fact"><span class="entity_def" id="Term31.eval_star_f2_trans3|thm"><span>eval_star_f2_trans3</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span>  </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2.EsStepF2|fact"><span>EsStepF2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2.EsTransF2|fact"><span>EsTransF2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.E_If_star_f2|fact"><span class="entity_def" id="Term31.E_If_star_f2|thm"><span>E_If_star_f2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t1'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2.induct|fact"><span>eval_star_f2.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>EsReflF2</span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_18809..18817">EsStepF2</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>t'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny2.E_IfF2|fact"><span>E_IfF2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2_step|fact"><span>eval_star_f2_step</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_18809..18817"><span>local.EsStepF2</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_18905..18914">EsTransF2</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>t'</span></span><span> </span><span class="skolem"><span>t''</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_18905..18914"><span>EsTransF2.hyps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Term31.html#offset_18905..18914"><span>EsTransF2.hyps</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f2_IfTrue|fact"><span class="entity_def" id="Term31.eval_star_f2_IfTrue|thm"><span>eval_star_f2_IfTrue</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.E_If_star_f2|fact"><span>E_If_star_f2</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>t1</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny2.E_IfTrueF2|fact"><span>E_IfTrueF2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2_trans2|fact"><span>eval_star_f2_trans2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2_trans3|fact"><span>eval_star_f2_trans3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f2_IfFalse|fact"><span class="entity_def" id="Term31.eval_star_f2_IfFalse|thm"><span>eval_star_f2_IfFalse</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="free"><span>t3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t3</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.E_If_star_f2|fact"><span>E_If_star_f2</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>t1</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny2.E_IfFalseF2|fact"><span>E_IfFalseF2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2_trans2|fact"><span>eval_star_f2_trans2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2_trans3|fact"><span>eval_star_f2_trans3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>proofs</span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.4 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> eval_deterministic_f2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>nitpick</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.eval_deterministic_f2_not|fact"><span class="entity_def" id="Term31.eval_deterministic_f2_not|thm"><span>eval_deterministic_f2_not</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="bound"><span>t''</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>¬</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="bound"><span>t''</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟶</span></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>t''</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span></a></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a></a><span class="main"><span class="main"><span>)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny2.E_Funny2|fact"><span>E_Funny2</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_funny2.E_IfTrueF2|fact"><span>E_IfTrueF2</span></a><span class="main"><span>)</span></span><span>


</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.7 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.value_is_normal_form_f2|fact"><span class="entity_def" id="Term31.value_is_normal_form_f2|thm"><span>value_is_normal_form_f2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_value|const"><span>is_value</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_value_def|fact"><span>is_value_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.8 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.normal_form_f2_is_value|fact"><span class="entity_def" id="Term31.normal_form_f2_is_value|thm"><span>normal_form_f2_is_value</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_value|const"><span>is_value</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.exhaust|fact"><span>t.exhaust</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>t</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.if_isnot_normal_form_f2|fact"><span>if_isnot_normal_form_f2</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.11 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> eval_star_deterministic_f2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><span class="free"><span>t'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_funny2|const"><span>↦f2</span></a></span><span> </span><span class="free"><span>t''</span></span><span class="main"><span>;</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><span class="free"><span>t''</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>t'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t''</span></span><span>"</span></span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span> proof should be changed </span><span>*</span><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>oops</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> 3.5.12 </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Term31.eval_star_f2_stop|fact"><span class="entity_def" id="Term31.eval_star_f2_stop|thm"><span>eval_star_f2_stop</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><span class="bound"><span>t'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>true</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2.EsReflF2|fact"><span>EsReflF2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>false</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2.EsReflF2|fact"><span>EsReflF2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_20533..20537">Cond</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>t3</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t1'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_20567..20572">t1t1'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="skolem"><span>t1'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><span class="skolem"><span>t1'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_20533..20537"><span>Cond.hyps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span>t1_true_false</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t1'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.true|const"><span>true</span></a><span> </span><span class="main"><span>∨</span></span><span> </span><span class="skolem"><span>t1'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.t.false|const"><span>false</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.normal_form_f2_is_value|fact"><span>normal_form_f2_is_value</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.is_value_def|fact"><span>is_value_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="main"><span>∨</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2_IfTrue|fact"><span>eval_star_f2_IfTrue</span></a><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_f2_IfFalse|fact"><span>eval_star_f2_IfFalse</span></a><span> </span><a class="entity_ref" href="Term31.html#offset_20567..20572"><span>t1t1'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Term31.html#offset_20533..20537"><span>Cond.hyps</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Term31.html#offset_20533..20537"><span>Cond.hyps</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.eval_star_trans3|fact"><span>eval_star_trans3</span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>If</span></a></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Then</span></a></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.t.Cond|const"><span>Else</span></a></span><span> </span><span class="skolem"><span>t3</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Term31.html#Term31.eval_star_f2|const"><span>↦f2*</span></a></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><span>∧</span></span><span> </span><a class="entity_ref" href="Term31.html#Term31.is_normal_form_f2|const"><span>is_normal_form_f2</span></a><span> </span><span class="bound"><span>t'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>